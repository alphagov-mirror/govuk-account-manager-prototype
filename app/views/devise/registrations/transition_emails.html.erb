<%= render "govuk_publishing_components/components/heading", {
  text: t("devise.registrations.transition_emails.heading"),
  heading_level: 1,
  font_size: "xl",
  margin_top: 0,
  margin_bottom: 3,
} %>

<%= form_with(
  url: new_user_registration_transition_emails_path,
  method: :post,
  data: {
    module: "track-form",
    "track-category": "account-create"
  }
) do %>
  <%= sanitize(t("devise.registrations.transition_emails.description")) %>

  <%= render "govuk_publishing_components/components/radio", {
    name: "email_decision",
    heading: t("devise.registrations.transition_emails.fields.emailsignup.heading"),
    heading_size: "s",
    error_message: devise_error_items(:email_decision, @resource_error_messages),
    items: [
      {
        value: "yes",
        text: t("devise.registrations.transition_emails.fields.emailsignup.yes"),
        data_attributes: {
          "track-action": "email-transition"
        }
      },
      {
        value: "no",
        text: t("devise.registrations.transition_emails.fields.emailsignup.no"),
        data_attributes: {
          "track-action": "email-transition"
        }
      }
    ]
  } %>

  <%= render "govuk_publishing_components/components/inset_text", {
    text: t("devise.registrations.transition_emails.unsubscribe")
  } %>

  <%= render "govuk_publishing_components/components/button", {
    text: t("devise.registrations.transition_emails.fields.submit.label"),
  } %>
<% end %>
